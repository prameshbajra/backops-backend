<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36" version="27.0.4">
  <diagram name="Page-1" id="5c-N3aM7RLb5X0E32vks">
    <mxGraphModel dx="3417" dy="2632" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="DD5CqQN37Do40TtxZKi6-22" value="Update faceId name flow" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;sketch=1;curveFitting=1;jiggle=2;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="-650" y="1040" width="860" height="270" as="geometry">
            <mxRectangle x="-40" y="1620" width="170" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="DD5CqQN37Do40TtxZKi6-22" source="DD5CqQN37Do40TtxZKi6-23" target="DD5CqQN37Do40TtxZKi6-27">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="610" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-25" value="RequestBody:&lt;br&gt;imageId, faceId, faceName" style="edgeLabel;html=1;align=left;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="DD5CqQN37Do40TtxZKi6-24">
          <mxGeometry x="-0.0273" y="-4" relative="1" as="geometry">
            <mxPoint x="-100" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-23" value="User sends a request to update the name" style="rounded=1;whiteSpace=wrap;html=1;align=left;fillColor=#d5e8d4;strokeColor=#82b366;perimeterSpacing=1;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-22">
          <mxGeometry x="80" y="150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="DD5CqQN37Do40TtxZKi6-22" source="DD5CqQN37Do40TtxZKi6-27" target="DD5CqQN37Do40TtxZKi6-29">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="577" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-27" value="updateFaceIdWithFaceData&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.lambda_function;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-22">
          <mxGeometry x="550" y="156" width="54" height="54" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-29" value="1. Update the current row #ImageId - #FaceId with faceName.&lt;div&gt;2. Make searchFacesByFaceId API call to regoknition&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2.1 This will return imageIds and faceIds for all matching faces.&lt;br&gt;&lt;/div&gt;&lt;div&gt;3. Using the output from above update all the #ImageId - #FaceId combination to faceName&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-22">
          <mxGeometry x="357.25" y="310" width="439.5" height="130" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-20" value="General Architecture" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;rounded=1;sketch=1;curveFitting=1;jiggle=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="-650" y="-1020" width="2170" height="1670" as="geometry">
            <mxRectangle x="-50" y="-150" width="150" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-71" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="688" y="1210" width="732" height="310" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="DD5CqQN37Do40TtxZKi6-74" target="DD5CqQN37Do40TtxZKi6-80" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="910" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-73" value="Upload Trigger" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="DD5CqQN37Do40TtxZKi6-72">
          <mxGeometry x="0.1396" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-74" value="Upload bucket" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.bucket_with_objects;fillColor=#E05243;gradientColor=none;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="720" y="360" width="60" height="61.5" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-75" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" source="DD5CqQN37Do40TtxZKi6-90" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="400" as="sourcePoint" />
            <mxPoint x="720" y="400" as="targetPoint" />
            <Array as="points">
              <mxPoint x="184" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-76" value="Upload to S3 bucket" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="DD5CqQN37Do40TtxZKi6-75">
          <mxGeometry x="0.0046" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="DD5CqQN37Do40TtxZKi6-80" target="DD5CqQN37Do40TtxZKi6-85" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-78" value="Upload item + thumbnail details + metadata" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="DD5CqQN37Do40TtxZKi6-77">
          <mxGeometry x="-0.1547" relative="1" as="geometry">
            <mxPoint y="79" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="DD5CqQN37Do40TtxZKi6-80" target="DD5CqQN37Do40TtxZKi6-91" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1160" y="594" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-80" value="generateThumbnail&lt;div&gt;(Also generate metadata)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.lambda_function;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="899" y="570" width="48" height="48" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="DD5CqQN37Do40TtxZKi6-85" target="DD5CqQN37Do40TtxZKi6-87" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" source="DD5CqQN37Do40TtxZKi6-85" target="DD5CqQN37Do40TtxZKi6-105" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-83" value="OnInsert" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="DD5CqQN37Do40TtxZKi6-82">
          <mxGeometry x="-0.0966" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-84" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" source="DD5CqQN37Do40TtxZKi6-85" target="DD5CqQN37Do40TtxZKi6-71" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-85" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;DynamoDB&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.dynamo_db;fillColor=#2E73B8;gradientColor=none;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="887" y="980" width="72" height="81" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="DD5CqQN37Do40TtxZKi6-87" target="DD5CqQN37Do40TtxZKi6-90" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-87" value="getObjectList&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.lambda_function;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="520" y="996.5" width="48" height="48" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="DD5CqQN37Do40TtxZKi6-90" target="DD5CqQN37Do40TtxZKi6-96" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="184" y="890" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-89" value="list of fileNames&lt;br&gt;getThumbnail: true/false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="DD5CqQN37Do40TtxZKi6-88">
          <mxGeometry x="-0.0036" y="-2" relative="1" as="geometry">
            <mxPoint x="41" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-90" value="User" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image=img/lib/active_directory/user.svg;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="150" y="640" width="68.5" height="185.14" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-91" value="Thumbnail bucket" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.bucket_with_objects;fillColor=#E05243;gradientColor=none;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="670" y="563.25" width="60" height="61.5" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" source="DD5CqQN37Do40TtxZKi6-96" target="DD5CqQN37Do40TtxZKi6-91" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="700" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-93" value="getThumbnail: true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="DD5CqQN37Do40TtxZKi6-92">
          <mxGeometry x="0.099" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="DD5CqQN37Do40TtxZKi6-96" target="DD5CqQN37Do40TtxZKi6-74" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="510" />
              <mxPoint x="750" y="510" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-95" value="getThumbnail: false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="DD5CqQN37Do40TtxZKi6-94">
          <mxGeometry x="-0.3647" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-96" value="downloadFiles" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.lambda_function;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="520" y="860" width="48" height="48" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-97" value="FileItem" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="989" y="1210" width="130" height="200.25" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-98" value="PK: userId&lt;div&gt;SK: Timestamp&lt;/div&gt;&lt;div&gt;fileName: string&lt;/div&gt;&lt;div&gt;fileSize: string&lt;/div&gt;&lt;div&gt;metadata: string&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;movable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-97">
          <mxGeometry x="10" y="20" width="110" height="90" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-99" value="imageId: string" style="text;html=1;align=left;verticalAlign=middle;resizable=1;points=[];autosize=1;strokeColor=none;fillColor=none;movable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-97">
          <mxGeometry x="10" y="108" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=oval;endFill=1;fillColor=#ffe6cc;strokeColor=#d79b00;" edge="1" source="DD5CqQN37Do40TtxZKi6-101" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="330" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-101" value="CompleteMultipartUpload Endpoint" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="400" y="80" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-102" value="- Completes multipart upload obviously&lt;div&gt;- Saves PK, SK, fileName and fileSize&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-101">
          <mxGeometry x="10" y="35" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-103" style="edgeStyle=none;html=1;entryX=0.97;entryY=0.078;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" source="DD5CqQN37Do40TtxZKi6-105" target="DD5CqQN37Do40TtxZKi6-99" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1120" y="1360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-104" value="inserts imageId" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="DD5CqQN37Do40TtxZKi6-103">
          <mxGeometry x="0.3297" y="-1" relative="1" as="geometry">
            <mxPoint x="11" y="-28" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-105" value="&lt;div&gt;CreateCollection + IndexFaces&lt;/div&gt;&lt;div&gt;Rekognition API&lt;/div&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.lambda_function;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="1280" y="996.5" width="48" height="48" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="DD5CqQN37Do40TtxZKi6-20" source="DD5CqQN37Do40TtxZKi6-106" target="DD5CqQN37Do40TtxZKi6-120">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1519.9999999999995" y="1350.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-121" value="OnInsert" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="DD5CqQN37Do40TtxZKi6-119">
          <mxGeometry x="-0.356" relative="1" as="geometry">
            <mxPoint x="96" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-106" value="ImageItem" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="1140" y="1290.25" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-107" value="PK: #IMAGE&amp;lt;imageId&amp;gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;movable=0;resizable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-106">
          <mxGeometry y="30" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-108" value="SK: #FACE&amp;lt;faceId&amp;gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;movable=0;resizable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-106">
          <mxGeometry y="60" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-109" value="boundingBox: json&lt;div&gt;confidence: number&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;movable=0;resizable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-106">
          <mxGeometry y="90" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-110" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" source="DD5CqQN37Do40TtxZKi6-105" target="DD5CqQN37Do40TtxZKi6-106" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1160" y="1233" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-111" value="Inserts image data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="DD5CqQN37Do40TtxZKi6-110">
          <mxGeometry x="0.0832" y="-1" relative="1" as="geometry">
            <mxPoint x="32" y="-37" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-120" value="CheckForExistingFaceNames" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.lambda_function;" vertex="1" parent="DD5CqQN37Do40TtxZKi6-20">
          <mxGeometry x="1620" y="1326.25" width="48" height="48" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-122" value="1. Make a searchFacesByFaceId API call to rekognition. Since it will be under same collectionId the returned results will be particular to one user. Response will have a list of imageId and faceId.&amp;nbsp;&lt;div&gt;2. Query dynamo for the list of imageId + faceId combo and check for faceName value.&lt;/div&gt;&lt;div&gt;3. If faceName value is found then update this current row by faceName.&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="746" y="740" width="496" height="100" as="geometry" />
        </mxCell>
        <mxCell id="DD5CqQN37Do40TtxZKi6-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="DD5CqQN37Do40TtxZKi6-120" target="DD5CqQN37Do40TtxZKi6-122">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
